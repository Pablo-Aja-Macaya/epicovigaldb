{% extends 'base.html' %}

{% block content %}
{% if message %}
  <div class="alert alert-success" role="alert">
    {{ message }}  Check their status at the <a href="#" data-toggle="modal" data-target="#exampleModal">Jobs' status page</a>
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
{% endif %}
{% if warning %}
  <div class="alert alert-warning" role="alert">
    {{ warning }}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
{% endif %}

<h2>Run tests</h2>
</br>

<form id="select_tests" method="POST" action="{% url 'send_selection' %}">
  {% csrf_token %}
  <fieldset class="form-group">
    <div class="row">
      <legend class="col-form-label col-sm-2 pt-0">Select tests</legend>
      <div class="col-sm-10">
        {% with 'Picard SingleCheck NGSStats NextClade iVar Lineages' as list %}
          {% for i in list.split %}
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="inlineCheckbox{{i}}" name="{{i}}" value="{{i}}">
              <label class="form-check-label" for="inlineCheckbox{{i}}">{{i}}</label>
            </div>
          {% endfor %}
        {% endwith %}
      </div>
    </div>
  </fieldset>
  <hr></hr>
  <fieldset class="form-group">
    <div class="row">
      <legend class="col-form-label col-sm-2 pt-0">Select samples</legend>
      <div class="col-sm-10">
        <div class="form-check">
          <input class="form-check-input" type="radio" name="origin" id="gridRadios1" value="csv" checked>
          <label class="form-check-label" for="gridRadios1">
            Select samples via CSV
          </label>
        </div>
        <div class="form-check disabled">
          <input class="form-check-input" type="radio" name="origin" id="gridRadios2" value="manual" disabled>
          <label class="form-check-label" for="gridRadios2">
            Select samples manually
          </label>
        </div>
        <div class="form-check disabled">
          <input class="form-check-input" type="radio" name="origin" id="gridRadios3" value="untested" disabled>
          <label class="form-check-label" for="gridRadios3">
            Run on untested files
          </label>
        </div>
      </div>
    </div>
  </fieldset>
    <div class="form-group row justify-content-center">
        <a href="javascript:{document.getElementById('select_tests').submit()}"><button type="submit" class="btn btn-primary" data-toggle="collapse" data-target="#collapseLoading" aria-expanded="false" aria-controls="collapseExample"">Run tests</button></a>
    </div>
</form>


<!-- MenÃº de carga colapsable -->
<div class="collapse" id="collapseLoading">
  <div class="card card-body border-0">  
    <div class="d-flex justify-content-center text-center">
      <div class="spinner-border text-primary" style="width: 5rem; height: 5rem;" role="status">
        <span class="sr-only">Loading...</span>   
      </div>   
    </div>
    <div class="d-flex justify-content-center text-center pt-3">   
    <strong>Loading</strong>
    </div>  
  </div>
</div>







{% endblock %}