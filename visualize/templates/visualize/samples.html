{% extends 'base.html' %}

{% block content %}

<ul class="nav nav-tabs">
  <li class="nav-item">
    <a class="nav-link" href="regions">Regions</a>
  </li>
  <li class="nav-item">
    <a class="nav-link active" href="samples">Samples</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">Picard</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">SingleCheck</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">NGSStats</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">NextClade</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">iVar</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="#">Pangolin</a>
  </li>
</ul>
<p></p>

<h2>Samples</h2>
</br>

<div class="col-md-2 mx-auto text-center">
  <nav aria-label="...">
    {% if samples.has_other_pages %}
      <ul class="pagination pagination-sm justify-content-center">
        {% if samples.has_previous %}
          <li class="page-item"><a class="page-link" href="?page={{ samples.previous_page_number }}">&laquo;</a></li>
        {% else %}
          <li class="page-item disabled" aria-current="page"><a class="page-link"><span>&laquo;</span></a></li>
        {% endif %}
        
        {% for i in samples.paginator.page_range %}
          {% if samples.number == i %}
            <li class="page-item active"><a class="page-link"><span>{{ i }} <span class="sr-only">(current)</span></span></a></li>
          {% else %}
            <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
          {% endif %}
        {% endfor %}
        
        {% if samples.has_next %}
          <li class="page-item"><a class="page-link" href="?page={{ samples.next_page_number }}">&raquo;</a></li>
        {% else %}
          <li class="page-item disabled"><a class="page-link"><span>&raquo;</span></a></li>
        {% endif %}
      </ul>
    {% endif %}
  </nav>
</div>

<table class="table table-responsive table-bordered table-hover">
  <thead class="thead-dark">
    <tr>
      {% for field in sample_fields %} 
      <th scope="col">{{field.name}}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for sample in samples %} 
    <tr>
      <th scope="row">{{sample.id_uvigo}}</th>
      <td>{{sample.id_accession}}</td>
      <td>{{sample.original_name}}</td>
      <td>{{sample.id_region}}</td>
      <td>{{sample.age}}</td>
      <td>{{sample.gender}}</td>
      <td>{{sample.patient_status}}</td>
      <td>{{sample.originating_lab}}</td>
      <td>{{sample.collection_date|date:"d-m-Y"}}</td>
      <td>{{sample.additional_info}}</td>
      <td>{{sample.data_path}}</td>
    </tr>
    {% endfor %}

  </tbody>
</table>

<div class="col-md-2 mx-auto text-center">
  <nav aria-label="...">
    {% if samples.has_other_pages %}
      <ul class="pagination pagination-sm justify-content-center">
        {% if samples.has_previous %}
          <li class="page-item"><a class="page-link" href="?page={{ samples.previous_page_number }}">&laquo;</a></li>
        {% else %}
          <li class="page-item disabled" aria-current="page"><a class="page-link"><span>&laquo;</span></a></li>
        {% endif %}
        
        {% for i in samples.paginator.page_range %}
          {% if samples.number == i %}
            <li class="page-item active"><a class="page-link"><span>{{ i }} <span class="sr-only">(current)</span></span></a></li>
          {% else %}
            <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
          {% endif %}
        {% endfor %}
        
        {% if samples.has_next %}
          <li class="page-item"><a class="page-link" href="?page={{ samples.next_page_number }}">&raquo;</a></li>
        {% else %}
          <li class="page-item disabled"><a class="page-link"><span>&raquo;</span></a></li>
        {% endif %}
      </ul>
    {% endif %}
  </nav>
</div>

{% endblock %}